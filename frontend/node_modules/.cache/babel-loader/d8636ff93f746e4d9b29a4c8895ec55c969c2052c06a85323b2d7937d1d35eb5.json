{"ast":null,"code":"import React,{useState}from'react';import{Card,CardContent,Typography,TextField,Button}from'@mui/material';import{Link,useNavigate}from'react-router-dom';// To navigate to another page\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function GetPersonByIdForm(){const[id,setId]=useState('');const navigate=useNavigate();// Create a navigate instance\nconst[error,setError]=useState(null);const handleChange=event=>{setId(event.target.value);};const handleSubmit=async event=>{event.preventDefault();try{const response=await fetch(\"http://localhost:5000/get-person/\".concat(id));if(response.ok){// If successful, navigate to the new page with the person's ID\nnavigate(\"/person/\".concat(id));setError(null);}else{setError('Person not found');}}catch(error){setError('Failed to retrieve person data. Please try again.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(Typography,{children:\"back to dashboard\"})}),/*#__PURE__*/_jsx(Card,{sx:{maxWidth:600,margin:'0 auto',marginTop:20},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Enter the admission number to view the details\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"ID\",value:id,onChange:handleChange,placeholder:\"Enter ID\",variant:\"outlined\",margin:\"normal\"}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Search\"})})]}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"error\",style:{marginTop:20},children:error})]})})]});}export default GetPersonByIdForm;","map":{"version":3,"names":["React","useState","Card","CardContent","Typography","TextField","Button","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GetPersonByIdForm","id","setId","navigate","error","setError","handleChange","event","target","value","handleSubmit","preventDefault","response","fetch","concat","ok","children","to","sx","maxWidth","margin","marginTop","variant","gutterBottom","onSubmit","fullWidth","label","onChange","placeholder","type","color","style"],"sources":["C:/Users/DELL/OneDrive/Desktop/bschool1/frontend/src/components/view-student.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, CardContent, Typography, TextField, Button } from '@mui/material';\r\nimport { Link, useNavigate } from 'react-router-dom'; // To navigate to another page\r\n\r\nfunction GetPersonByIdForm() {\r\n  const [id, setId] = useState('');\r\n  const navigate = useNavigate(); // Create a navigate instance\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (event) => {\r\n    setId(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/get-person/${id}`);\r\n      if (response.ok) {\r\n        // If successful, navigate to the new page with the person's ID\r\n        navigate(`/person/${id}`);\r\n        setError(null);\r\n      } else {\r\n        setError('Person not found');\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to retrieve person data. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (<> \r\n  <Link to='/dashboard'><Typography>back to dashboard</Typography></Link>\r\n    <Card sx={{ maxWidth: 600, margin: '0 auto', marginTop: 20 }}>\r\n      <CardContent>\r\n        <center><Typography variant=\"h5\" gutterBottom>\r\n          Enter the admission number to view the details\r\n        </Typography></center>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"ID\"\r\n            value={id}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter ID\"\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n          />\r\n          <center><Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n            Search\r\n          </Button></center>\r\n        </form>\r\n        {error && (\r\n          <Typography variant=\"body1\" color=\"error\" style={{ marginTop: 20 }}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n    </>);\r\n}\r\n\r\nexport default GetPersonByIdForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,CAAEC,UAAU,CAAEC,SAAS,CAAEC,MAAM,KAAQ,eAAe,CAChF,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtD,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAACC,EAAE,CAAEC,KAAK,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAChC,KAAM,CAAAiB,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAAE;AAChC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAoB,YAAY,CAAIC,KAAK,EAAK,CAC9BL,KAAK,CAACK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,KAAK,EAAK,CACpCA,KAAK,CAACI,cAAc,CAAC,CAAC,CACtB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,qCAAAC,MAAA,CAAqCb,EAAE,CAAE,CAAC,CACtE,GAAIW,QAAQ,CAACG,EAAE,CAAE,CACf;AACAZ,QAAQ,YAAAW,MAAA,CAAYb,EAAE,CAAE,CAAC,CACzBI,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,IAAM,CACLA,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CACF,CAAE,MAAOD,KAAK,CAAE,CACdC,QAAQ,CAAC,mDAAmD,CAAC,CAC/D,CACF,CAAC,CAED,mBAAQR,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACRrB,IAAA,CAACH,IAAI,EAACyB,EAAE,CAAC,YAAY,CAAAD,QAAA,cAACrB,IAAA,CAACN,UAAU,EAAA2B,QAAA,CAAC,mBAAiB,CAAY,CAAC,CAAM,CAAC,cACrErB,IAAA,CAACR,IAAI,EAAC+B,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,QAAQ,CAAEC,SAAS,CAAE,EAAG,CAAE,CAAAL,QAAA,cAC3DnB,KAAA,CAACT,WAAW,EAAA4B,QAAA,eACVrB,IAAA,WAAAqB,QAAA,cAAQrB,IAAA,CAACN,UAAU,EAACiC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAP,QAAA,CAAC,gDAE9C,CAAY,CAAC,CAAQ,CAAC,cACtBnB,KAAA,SAAM2B,QAAQ,CAAEd,YAAa,CAAAM,QAAA,eAC3BrB,IAAA,CAACL,SAAS,EACRmC,SAAS,MACTC,KAAK,CAAC,IAAI,CACVjB,KAAK,CAAER,EAAG,CACV0B,QAAQ,CAAErB,YAAa,CACvBsB,WAAW,CAAC,UAAU,CACtBN,OAAO,CAAC,UAAU,CAClBF,MAAM,CAAC,QAAQ,CAChB,CAAC,cACFzB,IAAA,WAAAqB,QAAA,cAAQrB,IAAA,CAACJ,MAAM,EAACsC,IAAI,CAAC,QAAQ,CAACP,OAAO,CAAC,WAAW,CAACQ,KAAK,CAAC,SAAS,CAAAd,QAAA,CAAC,QAElE,CAAQ,CAAC,CAAQ,CAAC,EACd,CAAC,CACNZ,KAAK,eACJT,IAAA,CAACN,UAAU,EAACiC,OAAO,CAAC,OAAO,CAACQ,KAAK,CAAC,OAAO,CAACC,KAAK,CAAE,CAAEV,SAAS,CAAE,EAAG,CAAE,CAAAL,QAAA,CAChEZ,KAAK,CACI,CACb,EACU,CAAC,CACV,CAAC,EACL,CAAC,CACP,CAEA,cAAe,CAAAJ,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}