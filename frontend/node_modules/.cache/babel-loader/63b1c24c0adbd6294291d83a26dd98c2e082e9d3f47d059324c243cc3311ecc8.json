{"ast":null,"code":"import React,{useState}from'react';import{Paper,Typography,TextField,Button,Grid,Snackbar,Alert}from'@mui/material';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UploadCertificatesForm(){const[formData,setFormData]=useState({admissionNumber:'',photo:null,transferCertificate:null,aadharCard:null,studyCertificate:null,fatherAadharCard:null});const[snackbarOpen,setSnackbarOpen]=useState(false);const[snackbarSeverity,setSnackbarSeverity]=useState('success');const[snackbarMessage,setSnackbarMessage]=useState('');const handleChange=event=>{const{name,value,files}=event.target;if(files&&files.length>0){setFormData(prevFormData=>({...prevFormData,[name]:files[0]}));}else{setFormData(prevFormData=>({...prevFormData,[name]:value}));}};const handleSubmit=async event=>{event.preventDefault();try{const formDataToSend=new FormData();Object.entries(formData).forEach(_ref=>{let[key,value]=_ref;formDataToSend.append(key,value);});const response=await fetch('http://localhost:5000/upload-certificates',{method:'POST',body:formDataToSend});if(response.ok){setSnackbarSeverity('success');setSnackbarMessage('Certificates uploaded successfully!');}else{throw new Error('Failed to upload certificates.');}}catch(error){setSnackbarSeverity('error');setSnackbarMessage('Failed to upload certificates. Please try again.');}setSnackbarOpen(true);};const handleSnackbarClose=()=>{setSnackbarOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(Typography,{children:\"Back to Dashboard\"})}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:2},children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Upload Certificates\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Admission Number\",name:\"admissionNumber\",value:formData.admissionNumber,onChange:handleChange,placeholder:\"Enter admission number\",variant:\"outlined\",required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"file\",name:\"photo\",onChange:handleChange,variant:\"outlined\",required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"file\",name:\"transferCertificate\",onChange:handleChange,variant:\"outlined\",required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"file\",name:\"aadharCard\",onChange:handleChange,variant:\"outlined\",required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"file\",name:\"studyCertificate\",onChange:handleChange,variant:\"outlined\",required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,type:\"file\",name:\"fatherAadharCard\",onChange:handleChange,variant:\"outlined\",required:true})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,sx:{marginTop:2},children:\"Submit\"})]}),/*#__PURE__*/_jsx(Snackbar,{open:snackbarOpen,autoHideDuration:4000,onClose:handleSnackbarClose,anchorOrigin:{vertical:'top',horizontal:'center'},children:/*#__PURE__*/_jsx(Alert,{onClose:handleSnackbarClose,severity:snackbarSeverity,children:snackbarMessage})})]})]});}export default UploadCertificatesForm;","map":{"version":3,"names":["React","useState","Paper","Typography","TextField","Button","Grid","Snackbar","Alert","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UploadCertificatesForm","formData","setFormData","admissionNumber","photo","transferCertificate","aadharCard","studyCertificate","fatherAadharCard","snackbarOpen","setSnackbarOpen","snackbarSeverity","setSnackbarSeverity","snackbarMessage","setSnackbarMessage","handleChange","event","name","value","files","target","length","prevFormData","handleSubmit","preventDefault","formDataToSend","FormData","Object","entries","forEach","_ref","key","append","response","fetch","method","body","ok","Error","error","handleSnackbarClose","children","to","elevation","sx","padding","variant","gutterBottom","onSubmit","container","spacing","item","xs","fullWidth","label","onChange","placeholder","required","type","color","marginTop","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity"],"sources":["C:/Users/DELL/OneDrive/Desktop/bschool1/frontend/src/components/upload-certificates.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    Paper,\r\n    Typography,\r\n    TextField,\r\n    Button,\r\n    Grid,\r\n    Snackbar,\r\n    Alert\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction UploadCertificatesForm() {\r\n    const [formData, setFormData] = useState({\r\n        admissionNumber: '',\r\n        photo: null,\r\n        transferCertificate: null,\r\n        aadharCard: null,\r\n        studyCertificate: null,\r\n        fatherAadharCard: null,\r\n    });\r\n\r\n    const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n    const [snackbarSeverity, setSnackbarSeverity] = useState('success');\r\n    const [snackbarMessage, setSnackbarMessage] = useState('');\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value, files } = event.target;\r\n        if (files && files.length > 0) {\r\n            setFormData((prevFormData) => ({ ...prevFormData, [name]: files[0] }));\r\n        } else {\r\n            setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const formDataToSend = new FormData();\r\n            Object.entries(formData).forEach(([key, value]) => {\r\n                formDataToSend.append(key, value);\r\n            });\r\n\r\n            const response = await fetch('http://localhost:5000/upload-certificates', {\r\n                method: 'POST',\r\n                body: formDataToSend,\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSnackbarSeverity('success');\r\n                setSnackbarMessage('Certificates uploaded successfully!');\r\n            } else {\r\n                throw new Error('Failed to upload certificates.');\r\n            }\r\n        } catch (error) {\r\n            setSnackbarSeverity('error');\r\n            setSnackbarMessage('Failed to upload certificates. Please try again.');\r\n        }\r\n        setSnackbarOpen(true);\r\n    };\r\n\r\n    const handleSnackbarClose = () => {\r\n        setSnackbarOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Link to='/dashboard'><Typography>Back to Dashboard</Typography></Link>\r\n            <Paper elevation={3} sx={{ padding: 2 }}>\r\n                <center><Typography variant=\"h5\" gutterBottom>\r\n                    Upload Certificates\r\n                </Typography></center>\r\n                <form onSubmit={handleSubmit}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"Admission Number\"\r\n                                name=\"admissionNumber\"\r\n                                value={formData.admissionNumber}\r\n                                onChange={handleChange}\r\n                                placeholder=\"Enter admission number\"\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"file\"\r\n                                name=\"photo\"\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"file\"\r\n                                name=\"transferCertificate\"\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"file\"\r\n                                name=\"aadharCard\"\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"file\"\r\n                                name=\"studyCertificate\"\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"file\"\r\n                                name=\"fatherAadharCard\"\r\n                                onChange={handleChange}\r\n                                variant=\"outlined\"\r\n                                required\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        sx={{ marginTop: 2 }}\r\n                    >\r\n                        Submit\r\n                    </Button>\r\n                </form>\r\n                <Snackbar\r\n                    open={snackbarOpen}\r\n                    autoHideDuration={4000}\r\n                    onClose={handleSnackbarClose}\r\n                    anchorOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                    }}\r\n                >\r\n                    <Alert onClose={handleSnackbarClose} severity={snackbarSeverity}>\r\n                        {snackbarMessage}\r\n                    </Alert>\r\n                </Snackbar>\r\n            </Paper>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UploadCertificatesForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}